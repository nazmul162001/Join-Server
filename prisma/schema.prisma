// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id               String            @id @default(uuid())
  email            String            @unique
  password         String
  role             String           @default("user")
  name             String           @default("")
  profileImage     String           @default("")
  phoneNumber      String           @default("")

  jobPosts         JobPost[]
  applications     ApplyJob[]

  @@map("users")
}

model JobPost {
  id                String       @id @default(uuid())
  title             String
  responsibilities  String       @db.Text
  category          String
  skill             String       @db.Text
  duration          String       @db.Text
  perks             String?      @db.Text
  coverLetter       String?
  availability      String
  assessment        String?      @db.Text
  vacancy           Int
  location          String
  employmentType    EmploymentType
  experienceLevel   ExperienceLevel
  salary            Int?
  salaryType        SalaryType?
  currency          CurrencyType?
  postedBy          String
  status            JobStatus    @default(ACTIVE)
  remote            Boolean      @default(false)
  companyName       String
  postedAt          DateTime     @default(now())
  createdAt         DateTime     @default(now())
  updatedAt         DateTime     @updatedAt

  userData  User? @relation(fields: [userDataId], references: [id])
  userDataId  String?

  applications      ApplyJob[]

  @@map("job_posts")
}

model ApplyJob {
  id           String   @id @default(uuid())
  name         String
  email        String
  phone        String
  linkedin     String
  github       String
  portfolio    String
  coverLetter  String   @db.Text

  jobPost      JobPost  @relation(fields: [jobPostId], references: [id])
  jobPostId    String   // Foreign key for JobPost

  user         User     @relation(fields: [userId], references: [id])
  userId       String   // Foreign key for User

  createdAt    DateTime @default(now())
  updatedAt    DateTime @default(now()) @updatedAt

  @@map("apply_jobs")
}

model Service {
  id   String  @id @default(uuid())
  name String   
  price Int
  category String
  images String
  district String
  location String
  description String
  channel String
  hdChannel String
  connectionCost Int
  status String

  @@map("services")
}



// Enum for job status
enum JobStatus {
  ACTIVE
  INACTIVE
  CLOSED
}

// Enum for employment type
enum EmploymentType {
  FULL_TIME
  PART_TIME
  CONTRACT
  TEMPORARY
  INTERNSHIP
  FREELANCE
}

// Enum for experience level
enum ExperienceLevel {
  JUNIOR
  MID
  SENIOR
  LEAD
  EXECUTIVE
}

// Enum for salary type
enum SalaryType {
  HOURLY
  DAILY
  WEEKLY
  MONTHLY
  ANNUAL
}

// Enum for salary type
enum CurrencyType {
  USD
  BDT
  INR
}